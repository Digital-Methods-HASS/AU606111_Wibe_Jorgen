# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
# Chunk 2
library(pacman)
pacman::p_load(gapminder, tidyverse)
df <- gapminder
# Chunk 3
# Defining function
find_gdp <- function(df, year=NULL, country=NULL) {
if(!is.null(year)) { # if the 'year' variable is not empty...
df <- df[df$year %in% year, ] # add the specified year to df
}
if (!is.null(country)) { # same as above
df <- df[df$country %in% country, ] # -||-
}
gdp <- df$pop * df$gdpPercap # calculating gdp: multiplies population with GDP per capita
new_df <- cbind(df, gdp=gdp) # combining results into one dataframe
return(new_df)
}
# Running function, specifying values
find_gdp(df, year = c(1967, 1977, 1987, 1997, 2007, 2017), country = "Denmark" )
for (i in unique(df$country)) {
life_expectancy <- dat2017 %>%
filter(country == land) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(i)
}
}
}
test(df$country)
dfor (i in unique(df$country)) {
if (i %in% grep("^B", unique(df$country), value = TRUE)) {
print(i)
}
}
mean(df[df$country, "lifeExp"])
grep("^B", df$country, value = TRUE) #setting value = TRUE returns the actual elements of the character vector that match
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(i)
}
}
}
test(df$country)
for (i in unique(df$country)) {
life_expectancy <- dat2017 %>%
filter(country == land) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(i)
}
}
}
test(df$country)
print(paste0(i, "starts with b"))
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b"))
}
}
}
test(df$country)
print(paste0(i, "starts with b and has a life expextancy of"))
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
}
}
test(df$country)
test <- function(country) {
hm <- for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(hm)
}
}
}
test(df$country)
hm <-  if (i %in% grep("^B", unique(country), value = T)){
print(hm)
}
test <- function(country) {
for (i in unique(country)) {
hm <-  if (i %in% grep("^B", unique(country), value = T)){
print(hm)
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(hm)
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
hm = i
}
}
}
countries_b <- grep("^B", unique(df$country), value = TRUE)
dat2017 <- filter(df, year == max(year))
View(dat2017)
dat2017 <- filter(df, year == max(year))
countries <- unique(df$country)
dat2017 <- filter(df, year == max(year))
for (land in countries) {
life_expectancy <- dat2017 %>%
filter(country == land) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
else {
print(paste0(i, "does not start with b"))
}
}
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
else {
print(paste0(i, "does not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
else {
print(paste0(i, " do not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
else {
print(paste0(i, " do not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T)){
print(paste0(i, "starts with b and has a life expextancy of"))
}
else {
print(paste0(i, " does not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T %&% df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else {
print(paste0(i, " does not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else {
print(paste0(i, " does not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else {
print(paste0(i, " does not start with b"))
}
}
}
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else if (i %in% grep("^B", unique(country), value = T & df$lifeExp < 50)){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
}
}
}
test(df$country)
countries_b <- grep("^B", unique(df$country), value = TRUE)
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE))
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE)))
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE))
grep("^B", unique(df$country), value = TRUE))
grep("^B", unique(df$country), value = TRUE)
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE))
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE)
grep("^B", unique(df$country), value = TRUE)
for (i in countries_b) {
if (df$lifeExp)
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else if (i %in% grep("^B", unique(country), value = T & df$lifeExp < 50)){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
}
}
}
test(df$country)
if (df$lifeExp < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
test(df$country)
```
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE)))
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE))
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T && df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else if (i %in% grep("^B", unique(country), value = T && df$lifeExp < 50)){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
}
}
}
test(df$country)
df %>%
filter(country == grep("^B", unique(df$country), value = TRUE))
life_expectancy <- df %>%
filter(country == "Denmark") %>%
pull(lifeExp)
life_expectancy <- df %>%
filter(country == "Denmark")
for (i in unique(df$country))
for (i in unique(df$country))
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(country == i) %>%
pull(lifeExp)
if (life_expectancy > 50) {
print(paste0(i, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
if (life_expectancy < 50) {
print(paste0(i, "'s life expectancy is less than 50!"))
}
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(country == i) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(i, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(country == i) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(i, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(country == i) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
life_expectancy <- df %>%
filter(unique(df$country) == i) %>%
pull(lifeExp)
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(unique(df$country) == i) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
for (i in unique(df$country)) {
life_expectancy <- df %>%
filter(unique(country) == i) %>%
pull(lifeExp)
if (life_expectancy < 50) {
print(paste0(land, "'s life expectancy is less than 50!"))
}
else if (between(life_expectancy, 50, 70)) {
print(paste0(land, "'s life expectancy is between 50 and 70"))
}
else if (life_expectancy > 70) {
print(paste0(land, "'s life expectancy is more than 70!"))
}
}
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else if (i %in% grep("^B", unique(country), value = T & df$lifeExp < 50)){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
else if (i %in% grep("^B", unique(country), value = T & between(df$lifeExp, 50, 70))){
print(paste0(i, "starts with b and has a life expextancy of above 50"))}
}
}
}
test <- function(country) {
test(df$country)
test <- function(country) {
for (i in unique(country)) {
if (i %in% grep("^B", unique(country), value = T & df$lifeExp > 50)){
print(paste0(i, "starts with b and has a life expextancy of below 50"))
}
else if (i %in% grep("^B", unique(country), value = T & df$lifeExp < 50)){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
}
else if (i %in% grep("^B", unique(country), value = T & between(df$lifeExp, 50, 70))){
print(paste0(i, "starts with b and has a life expextancy of above 50"))
}
}
}
test(df$country)
df
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
# Chunk 2
library(pacman)
pacman::p_load(gapminder, tidyverse)
df <- gapminder
# Defining function
find_gdp <- function(df, year=NULL, country=NULL) {
if(!is.null(year)) { # if the 'year' variable is not empty...
df <- df[df$year %in% year, ] # add the specified year to df
}
if (!is.null(country)) { # same as above
df <- df[df$country %in% country, ] # -||-
}
gdp <- df$pop * df$gdpPercap # calculating gdp: multiplies population with GDP per capita
new_df <- cbind(df, gdp=gdp) # combining results into one dataframe
return(new_df)
}
# Running function, specifying values
find_gdp(df, year = c(1967, 1977, 1987, 1997, 2007, 2017), country = "Denmark" )
